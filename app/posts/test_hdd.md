title: Диагностика hdd средствами unix
date: 2015-02-09
published: True

Здесь я опишу способы проверки hdd, стыренные из других источников, которые мне очень помогли понять, почему у меня тупит комп.

Для теста hdd использую 3 утилиты:

1. smartctl из пакета smartmontools
2. hdparm 
3. badblocks из пакета e2fsprogs

Все тесты проводить на **НЕ** смонтированном hdd.

#### smartctl:

	:::bash
	# smartctl -a /dev/sdX

отсюда интересует несколько параметров:

* 5 Reallocated_Sector_Ct - указывает на количество использованных запасных блоков, заложенных "про запас" в случае когда hdd начинает сыпаться;
* 9 Power_On_Hours - название говорит само за себя, сколько бедный hdd отмаслал часов;

#### hdparm:

	:::bash
	# hdparm -t /dev/sdX

Команда покажет, скорость записи на hdd. Данную команду необходимо выполнить несколько раз, для б/м достоверной картины.

#### badblocks:

	:::bash
	# badblocks -vs /dev/sdX

Команда с говорящим названием покажет, сколько битых блоком имеет поверхность hdd. Пояснение к ключам:

-w — разрешает запись на жесткий диск, не заботясь о сохранности данных. **Никогда не используйте для дисков, на которых есть нужная вам информация!** Несколько ускоряет тестирование.

-v — выводит информацию об ошибках на экран.

-s — выводит статус выполнения проверки в %. Для жесткого диска большого объема проверка может длиться несколько часов, поэтому, возможно, вам захочется наблюдать за ходом выполнения в процентах. Эта опция несколько замедляет работу утилиты, поэтому, если вы запускаете проверку, например, на ночь, эту опцию можно опустить.

стырено [отсюда](http://www.ubuntu.sumy.ua/2013/04/%D0%B4%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B0-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BE%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D0%B8-%D0%BF%D1%80%D0%BE.html)